import{a as I}from"./chunk-BW6OW4TH.js";import{b as x,c as s,d as F,e as S,j as y,m as _,n as C,r as E,t as R}from"./chunk-YOZF4BM5.js";import{d as h}from"./chunk-HTKEIXYB.js";import"./chunk-U455DCWQ.js";import{j as w}from"./chunk-CVV52KBV.js";import{Ja as a,Ka as p,Ua as v,_a as c,eb as l,gb as r,hb as t,ib as g,nb as b,tb as o}from"./chunk-VETP3HG3.js";function P(n,i){n&1&&(r(0,"div",15),o(1," Inserisci un'email valida. "),t())}function k(n,i){n&1&&(r(0,"div",15),o(1," La password deve contenere almeno 6 caratteri. "),t())}function G(n,i){n&1&&(r(0,"div",15),o(1," Le password non coincidono. "),t())}var N=class n{constructor(i,m,e){this.fb=i;this.authService=m;this.router=e}registerForm;ngOnInit(){this.registerForm=this.fb.group({email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]],confirmPassword:["",s.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(i){return i.get("password")?.value===i.get("confirmPassword")?.value?null:{mismatch:!0}}onSubmit(){if(this.registerForm.valid){let i=this.registerForm.get("email")?.value;console.log(i);let m=this.registerForm.get("password")?.value;this.authService.register(i,m).subscribe(e=>{alert("Registrazione completata! Ora puoi accedere."),this.router.navigate(["/home"])},e=>{alert("Errore durante la registrazione: "+e.error.message)})}}static \u0275fac=function(m){return new(m||n)(p(E),p(I),p(h))};static \u0275cmp=v({type:n,selectors:[["app-register"]],decls:26,vars:5,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-100"],[1,"bg-white","p-8","rounded-lg","shadow-md","w-full","max-w-md"],[1,"text-2xl","font-bold","mb-6","text-center"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","formControlName","email","type","email",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","formControlName","password","type","password",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","formControlName","confirmPassword","type","password",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["type","submit",1,"w-full","bg-blue-500","text-white","py-2","rounded-md","hover:bg-blue-600","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"disabled"],[1,"mt-4","text-center","text-sm","text-gray-600"],["routerLink","/auth/login",1,"text-blue-500","hover:underline"],[1,"text-red-500","text-sm","mt-1"]],template:function(m,e){if(m&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),o(3,"Registrati"),t(),r(4,"form",3),b("ngSubmit",function(){return e.onSubmit()}),r(5,"div",4)(6,"label",5),o(7,"Email"),t(),g(8,"input",6),c(9,P,2,0,"div",7),t(),r(10,"div",4)(11,"label",8),o(12,"Password"),t(),g(13,"input",9),c(14,k,2,0,"div",7),t(),r(15,"div",4)(16,"label",10),o(17,"Conferma Password"),t(),g(18,"input",11),c(19,G,2,0,"div",7),t(),r(20,"button",12),o(21," Registrati "),t()(),r(22,"p",13),o(23," Hai gi\xE0 un account? "),r(24,"a",14),o(25,"Accedi"),t()()()()),m&2){let d,u,f;a(4),l("formGroup",e.registerForm),a(5),l("ngIf",((d=e.registerForm.get("email"))==null?null:d.invalid)&&((d=e.registerForm.get("email"))==null?null:d.touched)),a(5),l("ngIf",((u=e.registerForm.get("password"))==null?null:u.invalid)&&((u=e.registerForm.get("password"))==null?null:u.touched)),a(5),l("ngIf",(e.registerForm.errors==null?null:e.registerForm.errors.mismatch)&&((f=e.registerForm.get("confirmPassword"))==null?null:f.touched)),a(),l("disabled",e.registerForm.invalid)}},dependencies:[R,y,x,F,S,_,C,w],encapsulation:2})};export{N as RegisterComponent};
