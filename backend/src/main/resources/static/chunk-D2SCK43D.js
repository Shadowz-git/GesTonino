import{a as I}from"./chunk-4E5LPW3D.js";import{a as y,b as d,c as x,d as F,i as _,l as C,m as N,q as E,s as R,t as P}from"./chunk-XR6LDSNQ.js";import{d as w,e as S}from"./chunk-KIU33I5S.js";import"./chunk-MBQSM3KJ.js";import{Ia as s,Ja as u,Sb as h,Ta as v,Ya as p,cb as l,eb as i,fb as t,gb as g,jb as b,pb as r}from"./chunk-5LZVEOV6.js";function G(n,o){n&1&&(i(0,"div",15),r(1," Inserisci un'email valida. "),t())}function j(n,o){n&1&&(i(0,"div",15),r(1," La password deve contenere almeno 6 caratteri. "),t())}function A(n,o){n&1&&(i(0,"div",15),r(1," Le password non coincidono. "),t())}var k=class n{constructor(o,a,e,m){this.fb=o;this.authService=a;this.router=e;this.notificationService=m}registerForm;ngOnInit(){this.registerForm=this.fb.group({email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]],confirmPassword:["",d.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(o){return o.get("password")?.value===o.get("confirmPassword")?.value?null:{mismatch:!0}}onSubmit(){if(this.registerForm.valid){let o=this.registerForm.get("email")?.value,a=this.registerForm.get("password")?.value;this.authService.register(o,a).subscribe(e=>{this.notificationService.addNotification({title:"Registrazione Completata!",message:"Ora puoi accedere.",type:"success"}),this.router.navigate(["/auth/login"])},e=>{this.notificationService.addNotification({title:"Errore durante la registrazione.",message:e.error.message,type:"error"})})}}static \u0275fac=function(a){return new(a||n)(u(E),u(I),u(w),u(P))};static \u0275cmp=v({type:n,selectors:[["app-register"]],decls:26,vars:5,consts:[[1,"min-h-full","flex","items-center","justify-center"],[1,"bg-white","p-8","rounded-lg","shadow-md","w-full","max-w-md"],[1,"text-2xl","font-bold","mb-2","text-center"],[1,"text-gray-400","text-sm","mb-6","text-center"],["routerLink","/",1,"text-blue-500","hover:underline"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","formControlName","email","type","email",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-gray-500"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","formControlName","password","type","password",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-gray-500"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","formControlName","confirmPassword","type","password",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-gray-500"],["type","submit",1,"w-full","bg-gray-800","text-white","py-2","rounded-md","hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-gray-500",3,"disabled"],[1,"text-red-500","text-sm","mt-1"]],template:function(a,e){if(a&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Registrati"),t(),i(4,"p",3),r(5,"Se hai gi\xE0 un Account o vuoi tornare alla Home "),i(6,"a",4),r(7,"Clicca qui"),t()(),i(8,"form",5),b("ngSubmit",function(){return e.onSubmit()}),i(9,"div",6)(10,"label",7),r(11,"Email"),t(),g(12,"input",8),p(13,G,2,0,"div",9),t(),i(14,"div",6)(15,"label",10),r(16,"Password"),t(),g(17,"input",11),p(18,j,2,0,"div",9),t(),i(19,"div",6)(20,"label",12),r(21,"Conferma Password"),t(),g(22,"input",13),p(23,A,2,0,"div",9),t(),i(24,"button",14),r(25," Registrati "),t()()()()),a&2){let m,c,f;s(8),l("formGroup",e.registerForm),s(5),l("ngIf",((m=e.registerForm.get("email"))==null?null:m.invalid)&&((m=e.registerForm.get("email"))==null?null:m.touched)),s(5),l("ngIf",((c=e.registerForm.get("password"))==null?null:c.invalid)&&((c=e.registerForm.get("password"))==null?null:c.touched)),s(5),l("ngIf",(e.registerForm.errors==null?null:e.registerForm.errors.mismatch)&&((f=e.registerForm.get("confirmPassword"))==null?null:f.touched)),s(),l("disabled",e.registerForm.invalid)}},dependencies:[R,_,y,x,F,C,N,h,S],encapsulation:2})};export{k as RegisterComponent};
